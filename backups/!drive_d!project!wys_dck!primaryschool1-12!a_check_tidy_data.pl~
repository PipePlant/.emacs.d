use strict;
use warnings;
use Data::Dumper;
use Encode;
use JSON;
use feature qw(say);

my %bookList = ();
open my $CHECK ,">", "./v2_data/tmp_data/tidy_check.txt" or die $!;
foreach my $bookNum (1 .. 12) {
    my $final_file = "./v2_data/final_data/1l".$bookNum."_additional_final.txt";
    $bookList{"1l".$bookNum} = 1;
    open my $FINAL ,"<", $final_file or die $!;

    while (<$FINAL>) {
        $_ =~ /(.*)\t{(.*)}$/;
        unless ($2) {
            if ($bookList{"1l".$bookNum}) {
                $bookList{"1l".$bookNum} = 0;
                say $CHECK "1l".$bookNum;
            }
            say $CHECK $1;
        }
    }
    
    close $FINAL;
}
close $CHECK;
