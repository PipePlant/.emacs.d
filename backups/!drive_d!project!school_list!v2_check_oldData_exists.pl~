use warnings;
use strict;
use JSON;
use Data::Dumper;
use feature qw(say);

# my $old_data_file = "./ps/ps_schools_16Feb.txt";
# my $new_data_file = "./ps/v2_ps_schools_16Sep.txt";

my $old_data_file = "./jh/jh_schools_16Feb.txt";
my $new_data_file = "./jh/v2_jh_schools_16Sep.txt";

my %newDataID = ();
# `````````
open my $NEW ,"<", $new_data_file or die $!;
while (<$NEW>) {
    $_ =~ /(\d+)\t/;
    $newDataID{$1} = 1;
}
close $NEW;


# `````````
open my $OLD ,"<", $old_data_file or die $!;
while (<$OLD>) {
    my $line = $_;
    $line =~ /(\d+)\t/;
    if (!exists $newDataID{$1}) {
        say $line;
    }
}
close $OLD;
